!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.reductio=n()}}(function(){return function n(t,u,e){function r(i,c){if(!u[i]){if(!t[i]){var f="function"==typeof require&&require;if(!c&&f)return f(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var a=u[i]={exports:{}};t[i][0].call(a.exports,function(n){var u=t[i][1][n];return r(u?u:n)},a,a.exports,n,t,u,e)}return u[i].exports}for(var o="function"==typeof require&&require,i=0;i<e.length;i++)r(e[i]);return r}({1:[function(n,t){var u={add:function(n,t){return function(n,u){return t&&t(n,u),n.avg=n.count>0?n.sum/n.count:0,n}},remove:function(n,t){return function(n,u){return t&&t(n,u),n.avg=n.count>0?n.sum/n.count:0,n}},initial:function(n){return function(t){return t=n(t),t.avg=0,t}}};t.exports=u},{}],2:[function(n,t){var u={add:function(n){return n.count++,n},remove:function(n){return n.count--,n},initial:function(n){return void 0===n&&(n={}),n.count=0,n}};t.exports=u},{}],3:[function(n,t){function u(){function n(n){return t(),n.reduce(c,f,a),n}function t(){r&&(c=reductio_count.add,f=reductio_count.remove,a=reductio_count.initial),o&&(c=reductio_sum.add(o,c),f=reductio_sum.remove(o,f),a=reductio_sum.initial(a)),e&&(!r|!o?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(c=reductio_avg.add(o,c),f=reductio_avg.remove(o,f),a=reductio_avg.initial(a))),i&&(c=reductio_value_count.add(i,c),f=reductio_value_count.remove(i,f),a=reductio_value_count.initial(a))}var u,e,r,o,i,c,f,a;return e=r=o=i=!1,c=function(n){return n},c=function(n){return n},a=function(){return{}},n.order=function(t){return arguments.length?(u=t,n):u},n.count=function(t){return arguments.length?(r=t,n):r},n.sum=function(t){return arguments.length?(o=t,n):o},n.avg=function(t){return arguments.length?(e=t,n):e},n.uniques=function(t){return arguments.length?(i=t,n):i},n}reductio_count=n("./count.js"),reductio_sum=n("./sum.js"),reductio_avg=n("./avg.js"),reductio_value_count=n("./value-count.js"),t.exports=u},{"./avg.js":1,"./count.js":2,"./sum.js":4,"./value-count.js":5}],4:[function(n,t){var u={add:function(n,t){return function(u,e){return t&&t(u,e),u.sum=u.sum+n(e),u}},remove:function(n,t){return function(u,e){return t&&t(u,e),u.sum=u.sum-n(e),u}},initial:function(n){return function(t){return t=n(t),t.sum=0,t}}};t.exports=u},{}],5:[function(n,t){var u={add:function(n,t){var u,e;return function(r,o){return t&&t(r,o),u=r.bisect(r.values,n(o),0,r.values.length),e=r.values[u],e&&e[0]===n(o)?e[1]++:r.values.splice(u,0,[n(o),1]),r}},remove:function(n,t){return function(u,e){return t&&t(u,e),i=u.bisect(u.values,n(e),0,u.values.length),u.values[i][1]--,u}},initial:function(n){return function(t){return t=n(t),t.values=[],t.bisect=crossfilter.bisect.by(function(n){return n[0]}).left,t}}};t.exports=u},{}]},{},[3])(3)});