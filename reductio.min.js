!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.reductio=n()}}(function(){return function n(e,t,u){function o(i,c){if(!t[i]){if(!e[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(r)return r(i,!0);throw new Error("Cannot find module '"+i+"'")}var a=t[i]={exports:{}};e[i][0].call(a.exports,function(n){var t=e[i][1][n];return o(t?t:n)},a,a.exports,n,e,t,u)}return t[i].exports}for(var r="function"==typeof require&&require,i=0;i<u.length;i++)o(u[i]);return o}({1:[function(n,e){var t={add:function(n,e){return function(n,t){return e&&e(n,t),n.avg=n.count>0?n.sum/n.count:0,n}},remove:function(n,e){return function(n,t){return e&&e(n,t),n.avg=n.count>0?n.sum/n.count:0,n}},initial:function(n){return function(e){return e=n(e),e.avg=0,e}}};e.exports=t},{}],2:[function(n,e){var t={add:function(n){return n.count++,n},remove:function(n){return n.count--,n},initial:function(n){return void 0===n&&(n={}),n.count=0,n}};e.exports=t},{}],3:[function(n,e){var t={add:function(n,e){var t,u;return function(o,r){return e&&e(o,r),t=o.bisect(o.values,n(r),0,o.values.length),u=o.values[t],u&&u[0]===n(r)&&0!==u[1]||o.exceptionCount++,o}},remove:function(n,e){var t,u;return function(o,r){return e&&e(o,r),t=o.bisect(o.values,n(r),0,o.values.length),u=o.values[t],u&&u[0]===n(r)&&1===u[1]&&o.exceptionCount--,o}},initial:function(n){return function(e){return e=n(e),e.exceptionCount=0,e}}};e.exports=t},{}],4:[function(n,e){var t={add:function(n,e,t){var u,o;return function(r,i){return t&&t(r,i),u=r.bisect(r.values,n(i),0,r.values.length),o=r.values[u],o&&o[0]===n(i)&&0!==o[1]||(r.exceptionSum=r.exceptionSum+e(i)),r}},remove:function(n,e,t){var u,o;return function(r,i){return t&&t(r,i),u=r.bisect(r.values,n(i),0,r.values.length),o=r.values[u],o&&o[0]===n(i)&&1===o[1]&&(r.exceptionSum=r.exceptionSum-e(i)),r}},initial:function(n){return function(e){return e=n(e),e.exceptionSum=0,e}}};e.exports=t},{}],5:[function(n,e){function t(){function n(n){return e(),n.reduce(a,f,d),n}function e(){o&&(a=reductio_count.add,f=reductio_count.remove,d=reductio_count.initial),r&&(a=reductio_sum.add(r,a),f=reductio_sum.remove(r,f),d=reductio_sum.initial(d)),u&&(!o|!r?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(a=reductio_avg.add(r,a),f=reductio_avg.remove(r,f),d=reductio_avg.initial(d))),c&&(i?(a=reductio_exception_count.add(i,a),f=reductio_exception_count.remove(i,f),d=reductio_exception_count.initial(d)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),s&&(i?(a=reductio_exception_sum.add(i,s,a),f=reductio_exception_sum.remove(i,s,f),d=reductio_exception_sum.initial(d)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),i&&(a=reductio_value_count.add(i,a),f=reductio_value_count.remove(i,f),d=reductio_value_count.initial(d))}var t,u,o,r,i,c,s,a,f,d;return u=o=r=unique_accessor=countUniques=!1,a=function(n){return n},a=function(n){return n},d=function(){return{}},n.order=function(e){return arguments.length?(t=e,n):t},n.count=function(e){return arguments.length?(o=e,n):o},n.sum=function(e){return arguments.length?(r=e,n):r},n.avg=function(e){return arguments.length?(u=e,n):u},n.exception=function(e){return arguments.length?(i=e,n):i},n.exceptionCount=function(e){return arguments.length?(c=e,n):c},n.exceptionSum=function(e){return arguments.length?(s=e,n):s},n}reductio_count=n("./count.js"),reductio_sum=n("./sum.js"),reductio_avg=n("./avg.js"),reductio_value_count=n("./value-count.js"),reductio_exception_count=n("./exception-count.js"),reductio_exception_sum=n("./exception-sum.js"),e.exports=t},{"./avg.js":1,"./count.js":2,"./exception-count.js":3,"./exception-sum.js":4,"./sum.js":6,"./value-count.js":7}],6:[function(n,e){var t={add:function(n,e){return function(t,u){return e&&e(t,u),t.sum=t.sum+n(u),t}},remove:function(n,e){return function(t,u){return e&&e(t,u),t.sum=t.sum-n(u),t}},initial:function(n){return function(e){return e=n(e),e.sum=0,e}}};e.exports=t},{}],7:[function(n,e){var t={add:function(n,e){var t,u;return function(o,r){return e&&e(o,r),t=o.bisect(o.values,n(r),0,o.values.length),u=o.values[t],u&&u[0]===n(r)?u[1]++:o.values.splice(t,0,[n(r),1]),o}},remove:function(n,e){var t;return function(u,o){return e&&e(u,o),t=u.bisect(u.values,n(o),0,u.values.length),u.values[t][1]--,u}},initial:function(n){return function(e){return e=n(e),e.values=[],e.bisect=crossfilter.bisect.by(function(n){return n[0]}).left,e}}};e.exports=t},{}]},{},[5])(5)});