!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.reductio=n()}}(function(){return function n(e,t,u){function r(i,c){if(!t[i]){if(!e[i]){var s="function"==typeof require&&require;if(!c&&s)return s(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var a=t[i]={exports:{}};e[i][0].call(a.exports,function(n){var t=e[i][1][n];return r(t?t:n)},a,a.exports,n,e,t,u)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<u.length;i++)r(u[i]);return r}({1:[function(n,e){var t={add:function(n,e){return function(n,t){return e&&e(n,t),n.avg=n.count>0?n.sum/n.count:0,n}},remove:function(n,e){return function(n,t){return e&&e(n,t),n.avg=n.count>0?n.sum/n.count:0,n}},initial:function(n){return function(e){return e=n(e),e.avg=0,e}}};e.exports=t},{}],2:[function(n,e){var t={add:function(n){return n.count++,n},remove:function(n){return n.count--,n},initial:function(n){return void 0===n&&(n={}),n.count=0,n}};e.exports=t},{}],3:[function(n,e){var t={add:function(n,e){var t,u;return function(r,o){return e&&e(r,o),t=r.bisect(r.values,n(o),0,r.values.length),u=r.values[t],u&&u[0]===n(o)&&0!==u[1]||r.exceptionCount++,r}},remove:function(n,e){var t,u;return function(r,o){return e&&e(r,o),t=r.bisect(r.values,n(o),0,r.values.length),u=r.values[t],u&&u[0]===n(o)&&1===u[1]&&r.exceptionCount--,r}},initial:function(n){return function(e){return e=n(e),e.exceptionCount=0,e}}};e.exports=t},{}],4:[function(n,e){function t(){function n(n){return e(),n.reduce(s,a,f),n}function e(){r&&(s=reductio_count.add,a=reductio_count.remove,f=reductio_count.initial),o&&(s=reductio_sum.add(o,s),a=reductio_sum.remove(o,a),f=reductio_sum.initial(f)),u&&(!r|!o?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(s=reductio_avg.add(o,s),a=reductio_avg.remove(o,a),f=reductio_avg.initial(f))),c&&(i?(s=reductio_exception_count.add(i,s),a=reductio_exception_count.remove(i,a),f=reductio_exception_count.initial(f)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),i&&(s=reductio_value_count.add(i,s),a=reductio_value_count.remove(i,a),f=reductio_value_count.initial(f))}var t,u,r,o,i,c,s,a,f;return u=r=o=unique_accessor=countUniques=!1,s=function(n){return n},s=function(n){return n},f=function(){return{}},n.order=function(e){return arguments.length?(t=e,n):t},n.count=function(e){return arguments.length?(r=e,n):r},n.sum=function(e){return arguments.length?(o=e,n):o},n.avg=function(e){return arguments.length?(u=e,n):u},n.exception=function(e){return arguments.length?(i=e,n):i},n.exceptionCount=function(e){return arguments.length?(c=e,n):c},n}reductio_count=n("./count.js"),reductio_sum=n("./sum.js"),reductio_avg=n("./avg.js"),reductio_value_count=n("./value-count.js"),reductio_exception_count=n("./exception-count.js"),e.exports=t},{"./avg.js":1,"./count.js":2,"./exception-count.js":3,"./sum.js":5,"./value-count.js":6}],5:[function(n,e){var t={add:function(n,e){return function(t,u){return e&&e(t,u),t.sum=t.sum+n(u),t}},remove:function(n,e){return function(t,u){return e&&e(t,u),t.sum=t.sum-n(u),t}},initial:function(n){return function(e){return e=n(e),e.sum=0,e}}};e.exports=t},{}],6:[function(n,e){var t={add:function(n,e){var t,u;return function(r,o){return e&&e(r,o),t=r.bisect(r.values,n(o),0,r.values.length),u=r.values[t],u&&u[0]===n(o)?u[1]++:r.values.splice(t,0,[n(o),1]),r}},remove:function(n,e){var t;return function(u,r){return e&&e(u,r),t=u.bisect(u.values,n(r),0,u.values.length),u.values[t][1]--,u}},initial:function(n){return function(e){return e=n(e),e.values=[],e.bisect=crossfilter.bisect.by(function(n){return n[0]}).left,e}}};e.exports=t},{}]},{},[4])(4)});