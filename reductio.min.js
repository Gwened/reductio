!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.reductio=t()}}(function(){return function t(n,e,u){function r(o,c){if(!e[o]){if(!n[o]){var s="function"==typeof require&&require;if(!c&&s)return s(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var a=e[o]={exports:{}};n[o][0].call(a.exports,function(t){var e=n[o][1][t];return r(e?e:t)},a,a.exports,t,n,e,u)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<u.length;o++)r(u[o]);return r}({1:[function(t,n){var e={add:function(t,n){return function(t,e){return n&&n(t,e),t.avg=t.count>0?t.sum/t.count:0,t}},remove:function(t,n){return function(t,e){return n&&n(t,e),t.avg=t.count>0?t.sum/t.count:0,t}},initial:function(t){return function(n){return n=t(n),n.avg=0,n}}};n.exports=e},{}],2:[function(t,n){var e={add:function(t){return t.count++,t},remove:function(t){return t.count--,t},initial:function(t){return void 0===t&&(t={}),t.count=0,t}};n.exports=e},{}],3:[function(t,n){var e={add:function(t,n){var e,u;return function(r,i){return n&&n(r,i),e=r.bisect(r.values,t(i),0,r.values.length),u=r.values[e],u&&u[0]===t(i)&&0!==u[1]||r.exceptionCount++,r}},remove:function(t,n){var e,u;return function(r,i){return n&&n(r,i),e=r.bisect(r.values,t(i),0,r.values.length),u=r.values[e],u&&u[0]===t(i)&&1===u[1]&&r.exceptionCount--,r}},initial:function(t){return function(n){return n=t(n),n.exceptionCount=0,n}}};n.exports=e},{}],4:[function(t,n){var e={add:function(t,n,e){var u,r;return function(i,o){return e&&e(i,o),u=i.bisect(i.values,t(o),0,i.values.length),r=i.values[u],r&&r[0]===t(o)&&0!==r[1]||(i.exceptionSum=i.exceptionSum+n(o)),i}},remove:function(t,n,e){var u,r;return function(i,o){return e&&e(i,o),u=i.bisect(i.values,t(o),0,i.values.length),r=i.values[u],r&&r[0]===t(o)&&1===r[1]&&(i.exceptionSum=i.exceptionSum-n(o)),i}},initial:function(t){return function(n){return n=t(n),n.exceptionSum=0,n}}};n.exports=e},{}],5:[function(t,n){var e={add:function(t,n){var e,u=crossfilter.bisect.by(function(t){return t}).left,r=crossfilter.bisect.by(function(t){return t.x}).right;return function(i,o){return n&&n(i,o),e=i.histogram[r(i.histogram,t(o),0,i.histogram.length)-1],e.y++,e.splice(u(e,t(o),0,e.length),0,t(o)),i}},remove:function(t,n){var e,u=crossfilter.bisect.by(function(t){return t}).left,r=crossfilter.bisect.by(function(t){return t.x}).right;return function(i,o){return n&&n(i,o),e=i.histogram[r(i.histogram,t(o),0,i.histogram.length)-1],e.y--,e.splice(u(e,t(o),0,e.length),1),i}},initial:function(t,n){return function(e){e=n(e),e.histogram=[];for(var u=[],r=1;r<t.length;r++)u=[],u.x=t[r-1],u.dx=t[r]-t[r-1],u.y=0,e.histogram.push(u);return e}}};n.exports=e},{}],6:[function(t,n){var e={add:function(t){return function(n,e){return t&&t(n,e),n.max=n.valueList[n.valueList.length-1],n}},remove:function(t){return function(n,e){return t&&t(n,e),0===n.valueList.length?(n.max=void 0,n):(n.max=n.valueList[n.valueList.length-1],n)}},initial:function(t){return function(n){return n=t(n),n.max=void 0,n}}};n.exports=e},{}],7:[function(t,n){var e={add:function(t){var n;return function(e,u){return t&&t(e,u),n=Math.floor(e.valueList.length/2),e.median=e.valueList.length%2?e.valueList[n]:(e.valueList[n-1]+e.valueList[n])/2,e}},remove:function(t){var n;return function(e,u){return t&&t(e,u),n=Math.floor(e.valueList.length/2),0===e.valueList.length?(e.median=void 0,e):(e.median=1===e.valueList.length||e.valueList.length%2?e.valueList[n]:(e.valueList[n-1]+e.valueList[n])/2,e)}},initial:function(t){return function(n){return n=t(n),n.median=void 0,n}}};n.exports=e},{}],8:[function(t,n){var e={add:function(t){return function(n,e){return t&&t(n,e),n.min=n.valueList[0],n}},remove:function(t){return function(n,e){return t&&t(n,e),0===n.valueList.length?(n.min=void 0,n):(n.min=n.valueList[0],n)}},initial:function(t){return function(n){return n=t(n),n.min=void 0,n}}};n.exports=e},{}],9:[function(t,n){function e(){function t(t){return n(),t.reduce(p,x,h),t}function n(){(r||g)&&(p=reductio_count.add,x=reductio_count.remove,h=reductio_count.initial),i&&(p=reductio_sum.add(i,p),x=reductio_sum.remove(i,x),h=reductio_sum.initial(h)),u&&(!r|!i?console.error("You must set .count(true) and define a .sum(accessor) to use .avg(true)."):(p=reductio_avg.add(i,p),x=reductio_avg.remove(i,x),h=reductio_avg.initial(h))),c&&(o?(p=reductio_exception_count.add(o,p),x=reductio_exception_count.remove(o,x),h=reductio_exception_count.initial(h)):console.error("You must define an .exception(accessor) to use .exceptionCount(true).")),s&&(o?(p=reductio_exception_sum.add(o,s,p),x=reductio_exception_sum.remove(o,s,x),h=reductio_exception_sum.initial(h)):console.error("You must define an .exception(accessor) to use .exceptionSum(accessor).")),(a||f||d||m)&&(p=reductio_value_list.add(a,p),x=reductio_value_list.remove(a,x),h=reductio_value_list.initial(h)),f&&(p=reductio_median.add(p),x=reductio_median.remove(x),h=reductio_median.initial(h)),d&&(p=reductio_min.add(p),x=reductio_min.remove(x),h=reductio_min.initial(h)),m&&(p=reductio_max.add(p),x=reductio_max.remove(x),h=reductio_max.initial(h)),o&&(p=reductio_value_count.add(o,p),x=reductio_value_count.remove(o,x),h=reductio_value_count.initial(h)),l&&v&&(p=reductio_histogram.add(l,p),x=reductio_histogram.remove(l,x),h=reductio_histogram.initial(v,h)),_&&(p=reductio_sum_of_sq.add(_,p),x=reductio_sum_of_sq.remove(_,x),h=reductio_sum_of_sq.initial(h)),g&&(_&&i?(p=reductio_std.add(p),x=reductio_std.remove(x),h=reductio_std.initial(h)):console.error("You must set .sumOfSq(accessor) and define a .sum(accessor) to use .std(true). Or use .std(accessor)."))}var e,u,r,i,o,c,s,a,f,l,d,m,v,g,_,p,x,h;return p=function(t){return t},p=function(t){return t},h=function(){return{}},t.order=function(n){return arguments.length?(e=n,t):e},t.count=function(n){return arguments.length?(r=n,t):r},t.sum=function(n){return arguments.length?(i=n,t):i},t.avg=function(n){return arguments.length?("function"==typeof n?(i&&console.warn("SUM aggregation is being overwritten by AVG aggregation"),i=n,u=!0,r=!0):u=n,t):u},t.exception=function(n){return arguments.length?(o=n,t):o},t.valueList=function(n){return arguments.length?(a=n,t):a},t.median=function(n){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by median aggregation"),a=n,f=n,t):f},t.min=function(n){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by min aggregation"),a=n,d=n,t):d},t.max=function(n){return arguments.length?(a&&console.warn("VALUELIST accessor is being overwritten by max aggregation"),a=n,m=n,t):m},t.exceptionCount=function(n){return arguments.length?("function"==typeof n?(i&&console.warn("EXCEPTION accessor is being overwritten by exception count aggregation"),o=n,c=!0):c=n,t):c},t.exceptionSum=function(n){return arguments.length?(s=n,t):s},t.histogramValue=function(n){return arguments.length?(l=n,t):l},t.histogramBins=function(n){return arguments.length?(v=n,t):v},t.std=function(n){return arguments.length?("function"==typeof n?(_=n,i=n,g=!0):g=n,t):g},t.sumOfSq=function(n){return arguments.length?(_=n,t):_},t}reductio_count=t("./count.js"),reductio_sum=t("./sum.js"),reductio_avg=t("./avg.js"),reductio_median=t("./median.js"),reductio_min=t("./min.js"),reductio_max=t("./max.js"),reductio_value_count=t("./value-count.js"),reductio_value_list=t("./value-list.js"),reductio_exception_count=t("./exception-count.js"),reductio_exception_sum=t("./exception-sum.js"),reductio_histogram=t("./histogram.js"),reductio_sum_of_sq=t("./sum-of-squares.js"),reductio_std=t("./std.js"),n.exports=e},{"./avg.js":1,"./count.js":2,"./exception-count.js":3,"./exception-sum.js":4,"./histogram.js":5,"./max.js":6,"./median.js":7,"./min.js":8,"./std.js":10,"./sum-of-squares.js":11,"./sum.js":12,"./value-count.js":13,"./value-list.js":14}],10:[function(t,n){var e={add:function(t){return function(n,e){if(t&&t(n,e),n.count>0){n.std=0;var u=n.sumOfSq-n.sum*n.sum/n.count;u>0&&(n.std=Math.sqrt(u/(n.count-1)))}else n.std=0;return n}},remove:function(t){return function(n,e){if(t&&t(n,e),n.count>0){n.std=0;var u=n.sumOfSq-n.sum*n.sum/n.count;u>0&&(n.std=Math.sqrt(u/(n.count-1)))}else n.std=0;return n}},initial:function(t){return function(n){return n=t(n),n.std=0,n}}};n.exports=e},{}],11:[function(t,n){var e={add:function(t,n){return function(e,u){return n&&n(e,u),e.sumOfSq=e.sumOfSq+t(u)*t(u),e}},remove:function(t,n){return function(e,u){return n&&n(e,u),e.sumOfSq=e.sumOfSq-t(u)*t(u),e}},initial:function(t){return function(n){return n=t(n),n.sumOfSq=0,n}}};n.exports=e},{}],12:[function(t,n){var e={add:function(t,n){return function(e,u){return n&&n(e,u),e.sum=e.sum+t(u),e}},remove:function(t,n){return function(e,u){return n&&n(e,u),e.sum=e.sum-t(u),e}},initial:function(t){return function(n){return n=t(n),n.sum=0,n}}};n.exports=e},{}],13:[function(t,n){var e={add:function(t,n){var e,u;return function(r,i){return n&&n(r,i),e=r.bisect(r.values,t(i),0,r.values.length),u=r.values[e],u&&u[0]===t(i)?u[1]++:r.values.splice(e,0,[t(i),1]),r}},remove:function(t,n){var e;return function(u,r){return n&&n(u,r),e=u.bisect(u.values,t(r),0,u.values.length),u.values[e][1]--,u}},initial:function(t){return function(n){return n=t(n),n.values=[],n.bisect=crossfilter.bisect.by(function(t){return t[0]}).left,n}}};n.exports=e},{}],14:[function(t,n){var e={add:function(t,n){var e,u=crossfilter.bisect.by(function(t){return t}).left;return function(r,i){return n&&n(r,i),e=u(r.valueList,t(i),0,r.valueList.length),r.valueList.splice(e,0,t(i)),r}},remove:function(t,n){var e,u=crossfilter.bisect.by(function(t){return t}).left;return function(r,i){return n&&n(r,i),e=u(r.valueList,t(i),0,r.valueList.length),r.valueList.splice(e,1),r}},initial:function(t){return function(n){return n=t(n),n.valueList=[],n}}};n.exports=e},{}]},{},[9])(9)});